<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Christmas Card</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Quicksand:wght@300;400;600&display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* Dark background so the snow is visible */
            --bg-color: #1a1f2c; 
            --card-gold: #d4af37;
            --text-cream: #e7e7de;
            --pine-green: #2d5a27;
            --card-red: #8b0000;
        }

        body {
            background-color: var(--bg-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden;
            font-family: 'Quicksand', sans-serif;
        }

        /* --- SNOW ANIMATION --- */
        .snowflake {
            position: absolute;
            top: -10px;
            color: white;
            opacity: 0.8;
            font-size: 1.2rem;
            animation: fall linear infinite;
            z-index: 1; 
        }

        @keyframes fall {
            to { transform: translateY(110vh); }
        }

        /* --- SCENE & SIZE --- */
        .scene {
            /* Responsive width */
            width: 90vw;
            max-width: 600px;
            
            /* Height Logic */
            height: 75vh;
            max-height: 800px;
            min-height: 600px; /* Needed to fit your long text */
            
            perspective: 1000px;
            cursor: pointer;
            z-index: 10;
        }

        /* --- THE CARD --- */
        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transition: transform 1s;
            transform-style: preserve-3d;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }

        .card.is-flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 15px;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.1); 
            overflow: hidden;
        }

        /* --- FRONT (IMAGE) --- */
        .card-front {
            /* White background fills the gaps if image doesn't fit perfectly */
            background-color: #F1F1E9;
            transform: rotateY(0deg);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .card-front img {
            width: 100%;
            height: 100%;
            
            /* --- CRITICAL FIX HERE --- */
            /* 'contain' ensures the WHOLE image is seen, never cut off. */
            object-fit: contain;  
            
            border-radius: 15px;
        }

        /* Hint text on top of the image */
        .click-hint {
            position: absolute;
            bottom: 20px;
            left: 0;
            width: 100%;
            text-align: center;
            /* Added a text shadow/background so it's visible on white or dark images */
            color: rgba(0, 0, 0, 0.6); 
            font-size: 0.9rem;
            font-weight: bold;
            pointer-events: none;
            font-family: 'Quicksand', sans-serif;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* --- BACK (TEXT) --- */
        .card-back {
            background-color: var(--text-cream);
            transform: rotateY(180deg);
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            padding: 30px; /* Reduced slightly to give text more room */
            box-sizing: border-box;
            border: 4px solid var(--card-gold);
            
            /* Paper texture pattern */
            background-image: radial-gradient(#e6dabf 1px, transparent 1px);
            background-size: 20px 20px;
            color: var(--pine-green);
            overflow-y: auto; /* Adds scroll if text is REALLY long on tiny phones */
        }

        .personal-message {
            font-family: 'Quicksand', sans-serif;
            font-size: 1.5rem; /* Adjusted slightly for fit */
            line-height: 1.5;
            margin-top: 0px;
            white-space: pre-wrap; 
            width: 100%;
            text-align: left; 
        }

        .greeting-footer {
            font-family: 'Dancing Script', cursive;
            font-size: 1.6rem;
            color: var(--card-red);
            margin-top: 0px; 
            text-align: center;
            padding-top: 4px;
        }

        .decorative-line {
            width: 50%;
            height: 2px;
            background-color: var(--card-gold);
            margin: 10px 0;
        }

    </style>
</head>
<body>

    <div id="snow-container"></div>

    <div class="scene">
        <div class="card">
            
            <div class="card-face card-front">
                <img src="christmas-card.png" alt="Christmas Card Front">
                <div class="click-hint">Click to Open</div>
            </div>

            <div class="card-face card-back">
                
                <div class="personal-message">
Merry Christmas Baba and Mama!

In the spirit of the holidays, I wanted to give you a little gift as a token of grattitude for being wonderful parents. You've given me innumerable gifts throughout my life, and have continued to reassure and provide for me even today. Thank you, continue to grow and find peace, and may blessings be upon you both!

~ Love, Nick
                </div>
                <div class="decorative-line"></div>
                
                <div class="greeting-footer">
                    Happy Holidays!
                </div>
            </div>

        </div>
    </div>

    <script>
        // 1. Flip Logic
        const card = document.querySelector('.card');
        card.addEventListener('click', function() {
            card.classList.toggle('is-flipped');
        });

        // 2. Snow Logic
        function createSnow() {
            const snowContainer = document.getElementById('snow-container');
            const particleCount = 50; 

            for (let i = 0; i < particleCount; i++) {
                const snowflake = document.createElement('div');
                snowflake.textContent = 'â„';
                snowflake.classList.add('snowflake');
                
                snowflake.style.left = Math.random() * 100 + 'vw';
                snowflake.style.animationDuration = Math.random() * 3 + 2 + 's';
                snowflake.style.fontSize = Math.random() * 10 + 10 + 'px';
                snowflake.style.opacity = Math.random();
                
                snowContainer.appendChild(snowflake);
            }
        }
        createSnow();
    </script>
</body>
</html>